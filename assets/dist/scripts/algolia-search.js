(()=>{var e;var t=algoliasearch(PBAlgolia.applicationId,PBAlgolia.apiKey),a=document.getElementById("book-cards"),n=document.getElementById("stats"),o=instantsearch({indexName:PBAlgolia.indexName,searchClient:t,searchFunction:function(e){e.state.query&&e.search(),window.algoliaHelper=e}});window.selectBookToClone=function(e){var t=document.getElementById("source_book_url"),o=document.getElementById("target_book_url");t.value=e;var r=e.split("/");o.value=r.length>2?r[3]:"",window.scrollTo(0,0),a.innerHTML="",n.innerHTML="",document.querySelector("#searchbox input").value=""},document.querySelector("#searchbox").addEventListener("input",(function(e){0===e.target.value.length&&(e.target.value="",a.innerHTML="",n.innerHTML="")})),o.addWidgets([instantsearch.widgets.searchBox({container:"#searchbox",placeholder:"Search openly licensed books",showSubmit:!1}),instantsearch.widgets.hits({escapeHTML:!0,container:"#book-cards",templates:{item:"".concat(PBAlgolia.hitsTemplate)}}),instantsearch.widgets.stats({container:"#stats",templates:{text:function(t,a){var n,o;return(0,a.html)(e||(n=[""," ",""],o||(o=n.slice(0)),e=Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(o)}}))),t.nbHits,PBAlgolia.resultsTemplate)}}})]),o.start()})();