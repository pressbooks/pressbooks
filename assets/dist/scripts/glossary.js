!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=23)}({23:function(t,e,n){t.exports=n("ADpY")},ADpY:function(t,e){tinymce.create("tinymce.plugins.glossary",{init:function(t,e){var n=PB_GlossaryToken.glossary_terms.replace(/&quot;/g,'"'),r=jQuery.parseJSON(n),o=Object.keys(r);function a(t){return o.filter(function(e){return-1!==e.toLowerCase().indexOf(t.toLowerCase().trim())})}function i(t){var e=a(t);if(void 0===e[0])return"";var n=e.map(function(t){return r[t].id});return Array.isArray(n)||n.length?n[0]:void 0}t.addButton("glossary_all",{title:PB_GlossaryToken.glossary_all_title,text:"Glossary",icon:!1,onclick:function(){t.selection.setContent("[pb_glossary]")}}),t.addButton("glossary",{title:PB_GlossaryToken.glossary_title,text:"GL",icon:!1,onclick:function(){var e,n=t.selection.getContent(),r=void 0!==(e=a(n))[0]&&e[0],l="",s=void 0;!1!==r?s=1:(l='Glossary term <b>"'+n+'"</b> not found. Please create it.',s=0),tinymce.activeEditor.windowManager.open({title:"Glossary Terms",bodyType:"tabpanel",body:[{title:"Create and Insert Term",type:"form",items:[{type:"container",name:"container",html:l},{name:"title",type:"textbox",label:"Title"},{name:"body",type:"textbox",label:"Description",multiline:!0,minHeight:100}]},{title:"Choose Existing Term",type:"form",items:[{type:"listbox",name:"term",label:"Select a Term",values:function(){var t=[],e=!0,n=!1,r=void 0;try{for(var a,i=o[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var l=a.value,s={};s.text=l,s.value=l,t.push(s)}}catch(t){n=!0,r=t}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}return t.push({text:"-- Select --",value:""}),t.sort(function(t,e){return t.text>e.text?1:e.text>t.text?-1:0}),t}(),value:r}]}],buttons:[{text:"Cancel",onclick:"close"},{text:"Insert",subtype:"primary",onclick:"submit"}],onsubmit:function(e){if("t0"===this.find("tabpanel")[0].activeTabId)alert("TODO: Create and Insert Term");else{if(!e.data.term||0===e.data.term.length)return alert("A term was not selected?"),!1;""!==n?t.selection.setContent('[pb_glossary id="'+i(e.data.term)+'"]'+n+"[/pb_glossary]"):t.selection.setContent('[pb_glossary id="'+i(e.data.term)+'"]'+e.data.term+"[/pb_glossary]")}}}).find("tabpanel")[0].activateTab(s)}})},createControl:function(t,e){return null}}),tinymce.PluginManager.add("glossary_all",tinymce.plugins.glossary.all),tinymce.PluginManager.add("glossary",tinymce.plugins.glossary)}});