!function(){"use strict";var e={classCallCheck:function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}};e.createClass=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}();var n,t={moving:!1,opened:!1},i={isUrl:function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)},addPrefixes:function(e){this.addPrefix(e,"id"),this.addPrefix(e,"class"),e.removeAttr("style")},addPrefix:function(e,n){var t=e.attr(n);"string"==typeof t&&""!==t&&"sidr-inner"!==t&&e.attr(n,t.replace(/([A-Za-z0-9_.\-]+)/g,"sidr-"+n+"-$1"))},transitions:function(){var e,n,t,i=(document.body||document.documentElement).style,o=!1,s="transition";return s in i?o=!0:(e=["moz","webkit","o","ms"],n=void 0,t=void 0,s=s.charAt(0).toUpperCase()+s.substr(1),o=function(){for(t=0;t<e.length;t++)if((n=e[t])+s in i)return!0;return!1}(),s=o?"-"+n.toLowerCase()+"-"+s.toLowerCase():null),{supported:o,property:s}}()},o=jQuery,s="webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",a=function(){function n(t){e.classCallCheck(this,n),this.name=t,this.item=o("#"+t),this.openClass="sidr"===t?"sidr-open":"sidr-open "+t+"-open",this.menuWidth=this.item.outerWidth(!0),this.speed=this.item.data("speed"),this.side=this.item.data("side"),this.displace=this.item.data("displace"),this.timing=this.item.data("timing"),this.method=this.item.data("method"),this.onOpenCallback=this.item.data("onOpen"),this.onCloseCallback=this.item.data("onClose"),this.onOpenEndCallback=this.item.data("onOpenEnd"),this.onCloseEndCallback=this.item.data("onCloseEnd"),this.body=o(this.item.data("body"))}return e.createClass(n,[{key:"getAnimation",value:function(e,n){var t={},i=this.side;return t[i]="open"===e&&"body"===n?this.menuWidth+"px":"close"===e&&"menu"===n?"-"+this.menuWidth+"px":0,t}},{key:"prepareBody",value:function(e){var n="open"===e?"hidden":"";if(this.body.is("body")){var t=o("html"),i=t.scrollTop();t.css("overflow-x",n).scrollTop(i)}}},{key:"openBody",value:function(){if(this.displace){var e=i.transitions,n=this.body;if(e.supported)n.css(e.property,this.side+" "+this.speed/1e3+"s "+this.timing).css(this.side,0).css({width:n.width(),position:"absolute"}),n.css(this.side,this.menuWidth+"px");else{var t=this.getAnimation("open","body");n.css({width:n.width(),position:"absolute"}).animate(t,{queue:!1,duration:this.speed})}}}},{key:"onCloseBody",value:function(){var e=i.transitions,n={width:"",position:"",right:"",left:""};e.supported&&(n[e.property]=""),this.body.css(n).unbind(s)}},{key:"closeBody",value:function(){var e=this;if(this.displace)if(i.transitions.supported)this.body.css(this.side,0).one(s,function(){e.onCloseBody()});else{var n=this.getAnimation("close","body");this.body.animate(n,{queue:!1,duration:this.speed,complete:function(){e.onCloseBody()}})}}},{key:"moveBody",value:function(e){"open"===e?this.openBody():this.closeBody()}},{key:"onOpenMenu",value:function(e){var n=this.name;t.moving=!1,t.opened=n,this.item.unbind(s),this.body.removeClass("sidr-animating").addClass(this.openClass),this.onOpenEndCallback(),"function"==typeof e&&e(n)}},{key:"openMenu",value:function(e){var n=this,t=this.item;if(i.transitions.supported)t.css(this.side,0).one(s,function(){n.onOpenMenu(e)});else{var o=this.getAnimation("open","menu");t.css("display","block").animate(o,{queue:!1,duration:this.speed,complete:function(){n.onOpenMenu(e)}})}}},{key:"onCloseMenu",value:function(e){this.item.css({left:"",right:""}).unbind(s),o("html").css("overflow-x",""),t.moving=!1,t.opened=!1,this.body.removeClass("sidr-animating").removeClass(this.openClass),this.onCloseEndCallback(),"function"==typeof e&&e(name)}},{key:"closeMenu",value:function(e){var n=this,t=this.item;if(i.transitions.supported)t.css(this.side,"").one(s,function(){n.onCloseMenu(e)});else{var o=this.getAnimation("close","menu");t.animate(o,{queue:!1,duration:this.speed,complete:function(){n.onCloseMenu()}})}}},{key:"moveMenu",value:function(e,n){this.body.addClass("sidr-animating"),"open"===e?this.openMenu(n):this.closeMenu(n)}},{key:"move",value:function(e,n){t.moving=!0,this.prepareBody(e),this.moveBody(e),this.moveMenu(e,n)}},{key:"open",value:function(e){var i=this;t.opened===this.name||t.moving||(!1===t.opened?(this.move("open",e),this.onOpenCallback()):new n(t.opened).close(function(){i.open(e)}))}},{key:"close",value:function(e){t.opened!==this.name||t.moving||(this.move("close",e),this.onCloseCallback())}},{key:"toggle",value:function(e){t.opened===this.name?this.close(e):this.open(e)}}]),n}(),d=jQuery;var r,u=jQuery,l=["open","close","toggle"],c={},h=function(e){return function(n,t){"function"==typeof n?(t=n,n="sidr"):n||(n="sidr"),function(e,n,t){var i=new a(n);switch(e){case"open":i.open(t);break;case"close":i.close(t);break;case"toggle":i.toggle(t);break;default:d.error("Method "+e+" does not exist on jQuery.sidr")}}(e,n,t)}};for(n=0;n<l.length;n++)c[r=l[n]]=h(r);function p(e){return"status"===e?t:c[e]?c[e].apply(this,Array.prototype.slice.call(arguments,1)):"function"!=typeof e&&"string"!=typeof e&&e?void u.error("Method "+e+" does not exist on jQuery.sidr"):c.toggle.apply(this,arguments)}var f=jQuery;function m(e,n){if("function"==typeof n.source){var t=n.source(name);e.html(t)}else if("string"==typeof n.source&&i.isUrl(n.source))f.get(n.source,function(n){e.html(n)});else if("string"==typeof n.source){var o="",s=n.source.split(",");if(f.each(s,function(e,n){o+='<div class="sidr-inner">'+f(n).html()+"</div>"}),n.renaming){var a=f("<div />").html(o);a.find("*").each(function(e,n){var t=f(n);i.addPrefixes(t)}),o=a.html()}e.html(o)}else null!==n.source&&f.error("Invalid Sidr Source");return e}jQuery.sidr=p,jQuery.fn.sidr=function(e){var n=i.transitions,o=f.extend({name:"sidr",speed:200,side:"left",source:null,renaming:!0,body:"body",displace:!0,timing:"ease",method:"toggle",bind:"touchstart click",onOpen:function(){},onClose:function(){},onOpenEnd:function(){},onCloseEnd:function(){}},e),s=o.name,a=f("#"+s);return 0===a.length&&(a=f("<div />").attr("id",s).appendTo(f("body"))),n.supported&&a.css(n.property,o.side+" "+o.speed/1e3+"s "+o.timing),a.addClass("sidr").addClass(o.side).data({speed:o.speed,side:o.side,body:o.body,displace:o.displace,timing:o.timing,method:o.method,onOpen:o.onOpen,onClose:o.onClose,onOpenEnd:o.onOpenEnd,onCloseEnd:o.onCloseEnd}),a=m(a,o),this.each(function(){var e=f(this),n=e.data("sidr"),i=!1;n||(t.moving=!1,t.opened=!1,e.data("sidr",s),e.bind(o.bind,function(e){e.preventDefault(),i||(i=!0,p(o.method,s),setTimeout(function(){i=!1},100))}))})}}();
