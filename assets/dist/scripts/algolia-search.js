(()=>{var e;var t=algoliasearch(PBAlgolia.applicationId,PBAlgolia.apiKey),a=document.getElementById("book-cards"),n=instantsearch({indexName:PBAlgolia.indexName,searchClient:t,searchFunction:function(e){e.state.query&&e.search(),window.algoliaHelper=e}});window.selectBookToClone=function(e){var t=document.getElementById("source_book_url"),n=document.getElementById("target_book_url");t.value=e;var s=e.split("/");n.value=s.length>2?s[3]:"",window.scrollTo(0,0),a.innerHTML="",document.querySelector("#searchbox input").value=""},document.querySelector("#searchbox").addEventListener("input",(function(e){0===e.target.value.length&&(e.target.value="",a.innerHTML="")})),n.addWidgets([instantsearch.widgets.searchBox({container:"#searchbox",showSubmit:!1}),instantsearch.widgets.hits({escapeHTML:!0,container:"#book-cards",templates:{item:"".concat(PBAlgolia.hitsTemplate)}}),instantsearch.widgets.stats({container:"#stats",templates:{text:function(t,a){var n,s,o=a.html,r="";return t.hasManyResults?r+="".concat(t.nbHits," results"):t.hasOneResult?r+="1 result":r+="no result",o(e||(n=["<span>"," results found</span>"],s||(s=n.slice(0)),e=Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(s)}}))),r)}}})]),n.start()})();